(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[29,28],{"+fOL":function(n,a,s){"use strict";s.r(a);var t=s("q1tI"),p=s.n(t),e=s("W3VL"),o=()=>{var n=Object(e["a"])({count:0,other:"lxj"}),a=p.a.useCallback(()=>{alert(n.count)},[]),s=p.a.useCallback(()=>{n.count=Math.random()},[]);return p.a.createElement("div",null,p.a.createElement("button",{onClick:s},"\u6539\u53d8\u503c"),p.a.createElement("button",{onClick:a},"\u8f93\u51fa"))};a["default"]=o},"0Owb":function(n,a,s){"use strict";function t(){return t=Object.assign||function(n){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(n[t]=s[t])}return n},t.apply(this,arguments)}s.d(a,"a",(function(){return t}))},W3VL:function(n,a,s){"use strict";s.d(a,"a",(function(){return p}));var t=s("q1tI");function p(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Object(t["useRef"])(n);return a.current}},nIMH:function(n,a,s){"use strict";s.r(a);var t=s("0Owb"),p=s("q1tI"),e=s.n(p),o=(s("B2uJ"),s("5Yjd")),c=s.n(o),l=e.a.memo((function(){var n=t(s("q1tI")),a=t(s("+fOL"));function t(n){return n&&n.__esModule?n:{default:n}}var p=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(p)}));a["default"]=function(){return e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"markdown"},e.a.createElement("h1",{id:"useself"},e.a.createElement("a",{"aria-hidden":"true",href:"#useself"},e.a.createElement("span",{className:"icon icon-link"})),"useSelf"),e.a.createElement("p",null,"\u63d0\u4f9b\u4e00\u4e2a\u4e0e\u7c7b\u7ec4\u4ef6this\u7c7b\u4f3c\u529f\u80fd\u7684\u5b9e\u4f8b\u5bf9\u8c61"),e.a.createElement("h2",{id:"\u793a\u4f8b"},e.a.createElement("a",{"aria-hidden":"true",href:"#\u793a\u4f8b"},e.a.createElement("span",{className:"icon icon-link"})),"\u793a\u4f8b")),e.a.createElement(c.a,Object(t["a"])({source:{raw:"import React from 'react';\r\n\r\nimport { useSelf } from './useSelf';\r\n\r\nconst UseSetStateDemo = () => {\r\n  const self = useSelf({ count: 0, other: 'lxj' });\r\n\r\n  const get = React.useCallback(() => {\r\n    alert(self.count); // \u7531\u4e8e\u662f\u5b9e\u4f8b\u5c5e\u6027\uff0c\u4e0d\u4f1a\u53d7\u5230\u95ed\u5305\u5f71\u54cd\r\n  }, []);\r\n\r\n  const set = React.useCallback(() => {\r\n    self.count = Math.random();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={set}>\u6539\u53d8\u503c</button>\r\n      <button onClick={get}>\u8f93\u51fa</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UseSetStateDemo;\r\n",jsx:'<pre class="language-jsx"><code class="language-jsx"><span class="token keyword module">import</span> <span class="token maybe-class-name">React</span> <span class="token keyword module">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\r\n<span class="token keyword module">import</span> <span class="token punctuation">{</span> useSelf <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'./useSelf\'</span><span class="token punctuation">;</span>\r\n\r\n<span class="token keyword">const</span> <span class="token function-variable function"><span class="token maybe-class-name">UseSetStateDemo</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\r\n  <span class="token keyword">const</span> self <span class="token operator">=</span> <span class="token function">useSelf</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\r\n    count<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>\r\n    other<span class="token punctuation">:</span> <span class="token string">\'lxj\'</span><span class="token punctuation">,</span>\r\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\r\n  <span class="token keyword">const</span> <span class="token keyword">get</span> <span class="token operator">=</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\r\n    <span class="token function">alert</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span><span class="token property-access">count</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u7531\u4e8e\u662f\u5b9e\u4f8b\u5c5e\u6027\uff0c\u4e0d\u4f1a\u53d7\u5230\u95ed\u5305\u5f71\u54cd</span>\r\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\r\n  <span class="token keyword">const</span> <span class="token keyword">set</span> <span class="token operator">=</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\r\n    self<span class="token punctuation">.</span><span class="token property-access">count</span> <span class="token operator">=</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\r\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\r\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\r\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">\r\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">set</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">\u6539\u53d8\u503c</span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">\r\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">get</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">\u8f93\u51fa</span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">\r\n    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>\r\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\r\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\r\n\r\n<span class="token keyword module">export</span> <span class="token keyword module">default</span> <span class="token maybe-class-name">UseSetStateDemo</span><span class="token punctuation">;</span>\r\n\n</code></pre>',tsx:'<pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token maybe-class-name">React</span> <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\r\n\r\n<span class="token keyword">import</span> <span class="token punctuation">{</span> useSelf <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'./useSelf\'</span><span class="token punctuation">;</span>\r\n\r\n<span class="token keyword">const</span> <span class="token function-variable function"><span class="token maybe-class-name">UseSetStateDemo</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\r\n  <span class="token keyword">const</span> self <span class="token operator">=</span> <span class="token function">useSelf</span><span class="token punctuation">(</span><span class="token punctuation">{</span> count<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> other<span class="token punctuation">:</span> <span class="token string">\'lxj\'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\r\n\r\n  <span class="token keyword">const</span> <span class="token keyword">get</span> <span class="token operator">=</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\r\n    <span class="token function">alert</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span><span class="token property-access">count</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u7531\u4e8e\u662f\u5b9e\u4f8b\u5c5e\u6027\uff0c\u4e0d\u4f1a\u53d7\u5230\u95ed\u5305\u5f71\u54cd</span>\r\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\r\n\r\n  <span class="token keyword">const</span> <span class="token keyword">set</span> <span class="token operator">=</span> <span class="token maybe-class-name">React</span><span class="token punctuation">.</span><span class="token method function property-access">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\r\n    self<span class="token punctuation">.</span><span class="token property-access">count</span> <span class="token operator">=</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\r\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\r\n\r\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\r\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">\r\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">set</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">\u6539\u53d8\u503c</span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">\r\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">get</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">\u8f93\u51fa</span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">\r\n    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>\r\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\r\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\r\n\r\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token maybe-class-name">UseSetStateDemo</span><span class="token punctuation">;</span>\r\n\n</code></pre>'}},{desc:'<div class="markdown"><p>\u4e00\u822c\u7528\u4e8e\u5b58\u653e\u9700\u8981\u5728\u7ec4\u4ef6\u5404\u5904\u4f7f\u7528\uff0c\u800c\u4e0d\u9700\u8981\u4e0e\u7ec4\u4ef6\u540c\u6b65\u66f4\u65b0\u7684\u72b6\u6001\uff0c\u4f7f\u7528\u5b9e\u4f8b\u5c5e\u6027\u7684\u597d\u5904\u662f\u5b83\u4e0d\u4f1a\u53d7\u5230\u95ed\u5305\u7684\u5f71\u54cd\uff0c\u4f60\u53ef\u4ee5\u5728\u7ec4\u4ef6\u5185\u4efb\u610f\u4f4d\u7f6e\u5b89\u5168\u7684\u83b7\u53d6\u5230\u6700\u65b0\u7684\u503c</p></div>',path:"/_demos/use-self.demo",dependencies:{}}),e.a.createElement(l,null)),e.a.createElement("div",{className:"markdown"},e.a.createElement("h2",{id:"api"},e.a.createElement("a",{"aria-hidden":"true",href:"#api"},e.a.createElement("span",{className:"icon icon-link"})),"API"),e.a.createElement("p",null,e.a.createElement("code",null,"const self = useSelf(init)")),e.a.createElement("p",null,e.a.createElement("strong",null,"self")," - \u5b9e\u4f8b\u5bf9\u8c61"),e.a.createElement("p",null,e.a.createElement("strong",null,"init")," - \u8bbe\u7f6e\u5b9e\u4f8b\u5bf9\u8c61\u521d\u59cb\u503c")))}}}]);