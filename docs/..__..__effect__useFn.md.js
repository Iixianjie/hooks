(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18,17],{"/9aa":function(n,a,s){var t=s("NykK"),p=s("ExA7"),e="[object Symbol]";function o(n){return"symbol"==typeof n||p(n)&&t(n)==e}n.exports=o},"/jfi":function(n,a,s){"use strict";s.r(a);var t=s("tJVT"),p=s("q1tI"),e=s.n(p),o=s("2dX0"),c=s("DzJC"),u=s.n(c),l=()=>{var n=Object(p["useState"])(0),a=Object(t["a"])(n,2),s=a[0],c=a[1],l=Object(o["a"])(()=>{c(s+1)}),r=Object(p["useRef"])(l),i=Object(o["a"])(()=>{c(s+1)},n=>u()(n,1e3));return e.a.createElement("div",null,e.a.createElement("h3",null,s),e.a.createElement("div",null,"\u51fd\u6570\u5730\u5740\u503c\u76f8\u7b49: ",(l===r.current).toString(),"\u267b"),e.a.createElement("button",{onClick:l},"click"),e.a.createElement("button",{onClick:i},"throttle click"))};a["default"]=l},"0Owb":function(n,a,s){"use strict";function t(){return t=Object.assign||function(n){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(n[t]=s[t])}return n},t.apply(this,arguments)}s.d(a,"a",(function(){return t}))},"2dX0":function(n,a,s){"use strict";s.d(a,"a",(function(){return p}));var t=s("q1tI");function p(n,a){var s=Object(t["useRef"])(()=>{throw new Error("Cannot call function while rendering")});s.current=n;var p=Object(t["useMemo"])(()=>{var n=function(){return s.current(...arguments)};return a?a(n):n},[]),e=Object(t["useCallback"])(p,[s]);return e}},AP2z:function(n,a,s){var t=s("nmnc"),p=Object.prototype,e=p.hasOwnProperty,o=p.toString,c=t?t.toStringTag:void 0;function u(n){var a=e.call(n,c),s=n[c];try{n[c]=void 0;var t=!0}catch(u){}var p=o.call(n);return t&&(a?n[c]=s:delete n[c]),p}n.exports=u},DzJC:function(n,a,s){var t=s("sEfC"),p=s("GoyQ"),e="Expected a function";function o(n,a,s){var o=!0,c=!0;if("function"!=typeof n)throw new TypeError(e);return p(s)&&(o="leading"in s?!!s.leading:o,c="trailing"in s?!!s.trailing:c),t(n,a,{leading:o,maxWait:a,trailing:c})}n.exports=o},ExA7:function(n,a){function s(n){return null!=n&&"object"==typeof n}n.exports=s},GoyQ:function(n,a){function s(n){var a=typeof n;return null!=n&&("object"==a||"function"==a)}n.exports=s},KfNM:function(n,a){var s=Object.prototype,t=s.toString;function p(n){return t.call(n)}n.exports=p},Kz5y:function(n,a,s){var t=s("WFqU"),p="object"==typeof self&&self&&self.Object===Object&&self,e=t||p||Function("return this")();n.exports=e},NykK:function(n,a,s){var t=s("nmnc"),p=s("AP2z"),e=s("KfNM"),o="[object Null]",c="[object Undefined]",u=t?t.toStringTag:void 0;function l(n){return null==n?void 0===n?c:o:u&&u in Object(n)?p(n):e(n)}n.exports=l},QIyF:function(n,a,s){var t=s("Kz5y"),p=function(){return t.Date.now()};n.exports=p},"QP+j":function(n,a,s){"use strict";s.r(a);var t=s("0Owb"),p=s("q1tI"),e=s.n(p),o=(s("B2uJ"),s("5Yjd")),c=s.n(o),u=e.a.memo((function(){var n=t(s("q1tI")),a=t(s("/jfi"));function t(n){return n&&n.__esModule?n:{default:n}}var p=function(){return n["default"].createElement(a["default"],null)};return n["default"].createElement(p)}));a["default"]=function(){return e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"markdown"},e.a.createElement("h1",{id:"usefn"},e.a.createElement("a",{"aria-hidden":"true",href:"#usefn"},e.a.createElement("span",{className:"icon icon-link"})),"useFn"),e.a.createElement("p",null,"\u7528\u4e8e\u4ee3\u66ff",e.a.createElement("code",null,"React.useCallback"),"\uff0c\u4f7f\u56de\u8c03\u51fd\u6570\u7684\u5f15\u7528\u5730\u5740\u6c38\u4e45\u4e0d\u53d8\uff0c\u4ece\u800c\u9632\u6b62\u6d88\u8d39\u7ec4\u4ef6\u4e0d\u5fc5\u8981\u7684\u91cd\u65b0\u6e32\u67d3\u3002"),e.a.createElement("p",null,"\u8be5hook\u7684\u53e6\u4e00\u4e2a\u7528\u4f8b\u662f\u89e3\u51b3\u95ed\u5305\u5bfc\u81f4\u7684\u56de\u8c03\u5185\u5916\u72b6\u6001\u4e0d\u4e00\u81f4\u95ee\u9898\uff0c\u5e76\u4e14\u5b83\u4e0d\u9700\u8981\u4f20\u9012",e.a.createElement("code",null,"deps"),"\u53c2\u6570!"),e.a.createElement("h2",{id:"\u793a\u4f8b"},e.a.createElement("a",{"aria-hidden":"true",href:"#\u793a\u4f8b"},e.a.createElement("span",{className:"icon icon-link"})),"\u793a\u4f8b")),e.a.createElement(c.a,Object(t["a"])({source:{raw:"import React, { useState, useRef } from 'react';\r\nimport { useFn } from './useFn';\r\nimport _throttle from 'lodash/throttle';\r\n\r\nconst useFnDemo = () => {\r\n  const [count, setCount] = useState(0);\r\n\r\n  const clickHandle = useFn(() => {\r\n    setCount(count + 1); // \u83b7\u53d6\u5230\u7684\u662f\u6700\u65b0\u7684count\r\n  });\r\n\r\n  const oldFn = useRef(clickHandle);\r\n\r\n  /* \u5982\u679c\u9700\u8981\u5bf9\u51fd\u6570\u8fdb\u884c\u64cd\u4f5c\uff0c\u8bf7\u4f7f\u7528\u53c2\u65702 */\r\n  const throttleFn = useFn(() => {\r\n    setCount(count + 1);\r\n  }, f => _throttle(f, 1000));\r\n\r\n  return (\r\n    <div>\r\n      <h3>{count}</h3>\r\n      <div>\u51fd\u6570\u5730\u5740\u503c\u76f8\u7b49: {(clickHandle === oldFn.current).toString()}\u267b</div>\r\n      <button onClick={clickHandle}>click</button>\r\n      <button onClick={throttleFn}>throttle click</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default useFnDemo;\r\n",jsx:'<pre class="language-jsx"><code class="language-jsx"><span class="token keyword module">import</span> <span class="token maybe-class-name">React</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useRef <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\r\n<span class="token keyword module">import</span> _throttle <span class="token keyword module">from</span> <span class="token string">\'lodash/throttle\'</span><span class="token punctuation">;</span>\r\n<span class="token keyword module">import</span> <span class="token punctuation">{</span> useFn <span class="token punctuation">}</span> <span class="token keyword module">from</span> <span class="token string">\'./useFn\'</span><span class="token punctuation">;</span>\r\n\r\n<span class="token keyword">const</span> <span class="token function-variable function">useFnDemo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\r\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\r\n  <span class="token keyword">const</span> clickHandle <span class="token operator">=</span> <span class="token function">useFn</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\r\n    <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u83b7\u53d6\u5230\u7684\u662f\u6700\u65b0\u7684count</span>\r\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\r\n  <span class="token keyword">const</span> oldFn <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span>clickHandle<span class="token punctuation">)</span><span class="token punctuation">;</span>\r\n  <span class="token comment">/* \u5982\u679c\u9700\u8981\u5bf9\u51fd\u6570\u8fdb\u884c\u64cd\u4f5c\uff0c\u8bf7\u4f7f\u7528\u53c2\u65702 */</span>\r\n\r\n  <span class="token keyword">const</span> throttleFn <span class="token operator">=</span> <span class="token function">useFn</span><span class="token punctuation">(</span>\r\n    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\r\n      <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\r\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\r\n    <span class="token parameter">f</span> <span class="token arrow operator">=></span> <span class="token function">_throttle</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\r\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\r\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\r\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">\r\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>h3</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">\r\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">\u51fd\u6570\u5730\u5740\u503c\u76f8\u7b49: </span><span class="token punctuation">{</span><span class="token punctuation">(</span>clickHandle <span class="token operator">===</span> oldFn<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">\u267b</span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">\r\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>clickHandle<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">click</span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">\r\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>throttleFn<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">throttle click</span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">\r\n    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>\r\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\r\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\r\n\r\n<span class="token keyword module">export</span> <span class="token keyword module">default</span> useFnDemo<span class="token punctuation">;</span>\r\n\n</code></pre>',tsx:'<pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> <span class="token maybe-class-name">React</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\r\n<span class="token keyword">import</span> <span class="token punctuation">{</span> useFn <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'./useFn\'</span><span class="token punctuation">;</span>\r\n<span class="token keyword">import</span> _throttle <span class="token keyword">from</span> <span class="token string">\'lodash/throttle\'</span><span class="token punctuation">;</span>\r\n\r\n<span class="token keyword">const</span> <span class="token function-variable function">useFnDemo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\r\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\r\n\r\n  <span class="token keyword">const</span> clickHandle <span class="token operator">=</span> <span class="token function">useFn</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\r\n    <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \u83b7\u53d6\u5230\u7684\u662f\u6700\u65b0\u7684count</span>\r\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\r\n\r\n  <span class="token keyword">const</span> oldFn <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span>clickHandle<span class="token punctuation">)</span><span class="token punctuation">;</span>\r\n\r\n  <span class="token comment">/* \u5982\u679c\u9700\u8981\u5bf9\u51fd\u6570\u8fdb\u884c\u64cd\u4f5c\uff0c\u8bf7\u4f7f\u7528\u53c2\u65702 */</span>\r\n  <span class="token keyword">const</span> throttleFn <span class="token operator">=</span> <span class="token function">useFn</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>\r\n    <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\r\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token parameter">f</span> <span class="token arrow operator">=></span> <span class="token function">_throttle</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\r\n\r\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\r\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">\r\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>h3</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>h3</span><span class="token punctuation">></span></span><span class="token plain-text">\r\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">\u51fd\u6570\u5730\u5740\u503c\u76f8\u7b49: </span><span class="token punctuation">{</span><span class="token punctuation">(</span>clickHandle <span class="token operator">===</span> oldFn<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">\u267b</span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">\r\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>clickHandle<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">click</span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">\r\n      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>throttleFn<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">throttle click</span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>button</span><span class="token punctuation">></span></span><span class="token plain-text">\r\n    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>\r\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\r\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\r\n\r\n<span class="token keyword">export</span> <span class="token keyword">default</span> useFnDemo<span class="token punctuation">;</span>\r\n\n</code></pre>'}},{path:"/_demos/use-fn.demo",dependencies:{lodash:"4.17.15"}}),e.a.createElement(u,null)),e.a.createElement("div",{className:"markdown"},e.a.createElement("h2",{id:"api"},e.a.createElement("a",{"aria-hidden":"true",href:"#api"},e.a.createElement("span",{className:"icon icon-link"})),"API"),e.a.createElement("pre",{className:"language-ts"},e.a.createElement("code",{className:"language-ts"},e.a.createElement("span",{className:"token keyword"},"const")," memoFn ",e.a.createElement("span",{className:"token operator"},"=")," ",e.a.createElement("span",{className:"token function"},"useFn"),e.a.createElement("span",{className:"token punctuation"},"("),"fn",e.a.createElement("span",{className:"token punctuation"},")"),e.a.createElement("br",null))),e.a.createElement("p",null,e.a.createElement("strong",null,"memoFn")," - \u7ecf\u8fc7",e.a.createElement("code",null,"memo"),"\u7684",e.a.createElement("code",null,"fn"),"\uff0c\u5185\u5b58\u5730\u5740\u6c38\u4e45\u4e0d\u53d8"),e.a.createElement("p",null,e.a.createElement("strong",null,"fn")," - \u9700\u8981",e.a.createElement("code",null,"memo"),"\u5316\u7684\u56de\u8c03"),e.a.createElement("p",null,e.a.createElement("strong",null,"wraper")," - \u63a5\u6536\u53c2\u65701\u5e76\u8fd4\u56de\uff0c\u53ef\u4ee5\u85c9\u6b64\u5bf9\u51fd\u6570\u5b9e\u73b0\u8282\u6d41\u7b49\u64cd\u4f5c, \u53ea\u5728\u521d\u59cb\u5316\u65f6\u8c03\u7528")))}},WFqU:function(n,a,s){(function(a){var s="object"==typeof a&&a&&a.Object===Object&&a;n.exports=s}).call(this,s("yLpj"))},nmnc:function(n,a,s){var t=s("Kz5y"),p=t.Symbol;n.exports=p},sEfC:function(n,a,s){var t=s("GoyQ"),p=s("QIyF"),e=s("tLB3"),o="Expected a function",c=Math.max,u=Math.min;function l(n,a,s){var l,r,i,k,f,m,d=0,g=!1,y=!1,v=!0;if("function"!=typeof n)throw new TypeError(o);function b(a){var s=l,t=r;return l=r=void 0,d=a,k=n.apply(t,s),k}function x(n){return d=n,f=setTimeout(E,a),g?b(n):k}function h(n){var s=n-m,t=n-d,p=a-s;return y?u(p,i-t):p}function w(n){var s=n-m,t=n-d;return void 0===m||s>=a||s<0||y&&t>=i}function E(){var n=p();if(w(n))return C(n);f=setTimeout(E,h(n))}function C(n){return f=void 0,v&&l?b(n):(l=r=void 0,k)}function j(){void 0!==f&&clearTimeout(f),d=0,l=m=r=f=void 0}function F(){return void 0===f?k:C(p())}function O(){var n=p(),s=w(n);if(l=arguments,r=this,m=n,s){if(void 0===f)return x(m);if(y)return clearTimeout(f),f=setTimeout(E,a),b(m)}return void 0===f&&(f=setTimeout(E,a)),k}return a=e(a)||0,t(s)&&(g=!!s.leading,y="maxWait"in s,i=y?c(e(s.maxWait)||0,a):i,v="trailing"in s?!!s.trailing:v),O.cancel=j,O.flush=F,O}n.exports=l},tJVT:function(n,a,s){"use strict";function t(n){if(Array.isArray(n))return n}function p(n,a){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n)){var s=[],t=!0,p=!1,e=void 0;try{for(var o,c=n[Symbol.iterator]();!(t=(o=c.next()).done);t=!0)if(s.push(o.value),a&&s.length===a)break}catch(u){p=!0,e=u}finally{try{t||null==c["return"]||c["return"]()}finally{if(p)throw e}}return s}}function e(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(n,a){return t(n)||p(n,a)||e()}s.d(a,"a",(function(){return o}))},tLB3:function(n,a,s){var t=s("GoyQ"),p=s("/9aa"),e=NaN,o=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,r=parseInt;function i(n){if("number"==typeof n)return n;if(p(n))return e;if(t(n)){var a="function"==typeof n.valueOf?n.valueOf():n;n=t(a)?a+"":a}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(o,"");var s=u.test(n);return s||l.test(n)?r(n.slice(2),s?2:8):c.test(n)?e:+n}n.exports=i}}]);