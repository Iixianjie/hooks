(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{"2dX0":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("q1tI");function a(t,e){var n=Object(r["useRef"])(()=>{throw new Error("Cannot call function while rendering")});n.current=t;var a=Object(r["useMemo"])(()=>{var t=function(){return n.current(...arguments)};return e?e(t):t},[]),c=Object(r["useCallback"])(a,[n]);return c}},"34YR":function(t,e,n){"use strict";n.d(e,"a",(function(){return T}));var r=n("WmNS"),a=n.n(r),c=n("k1fw"),i=n("9og8"),o=n("tJVT"),u=n("K3qG"),s=n("sEfC"),l=n.n(s),d=n("DzJC"),f=n.n(d),v=n("q1tI"),b=n("W3VL"),m=n("4H9c"),O=n("xQ7e"),j=n("d3U/"),p=n("2dX0"),g=u["a"];function h(t){return!!t&&!!(Object(u["h"])(t)&&"nativeEvent"in t&&"target"in t&&"type"in t)}function T(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(b["a"])({fetchID:0,fetchCount:0,timeoutTimer:0,lastFetch:Date.now()}),r=e.initData,s=e.initPayload,d=e.deps,T=void 0===d?[]:d,E=e.param,I=e.manual,C=void 0!==I&&I,w=e.timeout,D=void 0===w?1e4:w,y=e.onSuccess,S=e.onError,k=e.onComplete,J=e.onTimeout,q=e.cacheKey,x=e.stale,_=void 0===x||x,F=e.throttleInterval,A=e.debounceInterval,P=e.pollingInterval,R=!!q,U=Object(m["a"])({loading:!C&&Object(u["f"])(t),error:void 0,timeout:!1}),V=Object(o["a"])(U,2),H=V[0],N=V[1];Object(v["useEffect"])(()=>()=>{n.fetchID=0,n.timeoutTimer&&g.clearTimeout(n.timeoutTimer)},[]);var L=Object(O["a"])("".concat(q,"_FETCH_PAYLOAD"),s,{disabled:!R}),X=Object(o["a"])(L,2),G=X[0],K=X[1],W=Object(O["a"])("".concat(q,"_FETCH_DATA"),r,{disabled:!R}),Y=Object(o["a"])(W,2),z=Y[0],M=Y[1],Q=Object(v["useState"])(!0),B=Object(o["a"])(Q,2),Z=B[0],$=B[1],tt=Object(p["a"])(function(){var e=Object(i["a"])(a.a.mark((function e(r){var i,o,s,l,d,f=arguments;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=f.length>1&&void 0!==f[1]&&f[1],o=Object(u["f"])(t),o){e.next=4;break}return e.abrupt("return");case 4:return n.lastFetch=Date.now(),s=Math.random(),n.fetchID=s,n.timeoutTimer&&g.clearTimeout(n.timeoutTimer),n.timeoutTimer=g.setTimeout(()=>{at(),null===J||void 0===J||J(),N(Object(c["a"])({},rt("timeout",!0)))},D),l=n.timeoutTimer,H.loading||N(Object(c["a"])({},rt("loading",!0))),e.prev=11,e.next=14,t(r);case 14:if(d=e.sent,s===n.fetchID){e.next=17;break}return e.abrupt("return");case 17:return N(Object(c["a"])({},rt("loading",!1))),M(d),null===y||void 0===y||y(d,i),e.abrupt("return",[void 0,d]);case 23:if(e.prev=23,e.t0=e["catch"](11),s===n.fetchID){e.next=27;break}return e.abrupt("return");case 27:return N(Object(c["a"])({},rt("error",e.t0))),null===S||void 0===S||S(e.t0),e.abrupt("return",[e.t0,void 0]);case 30:if(e.prev=30,l&&g.clearTimeout(l),s===n.fetchID){e.next=34;break}return e.abrupt("return");case 34:return null===k||void 0===k||k(),n.fetchCount++,e.finish(30);case 37:case"end":return e.stop()}}),e,null,[[11,23,30,37]])})));function r(t){return e.apply(this,arguments)}return r}(),t=>F?f()(t,F,{trailing:!1}):A?l()(t,A):t),et=Object(p["a"])(t=>{var e=h(t)||void 0===t;return tt(nt(t),e)});function nt(t){return"param"in e?E:h(t)||void 0===t?G:(K(t),t)}function rt(t,e){var n={loading:!1,error:void 0,timeout:!1};return t&&(n[t]=e),n}function at(){n.fetchID=0,n.timeoutTimer&&g.clearTimeout(n.timeoutTimer),N({loading:!1})}return Object(j["a"])(()=>{"param"in e&&(0===n.fetchCount||C||tt(nt(),!1))},[E]),Object(v["useEffect"])(()=>{C||(_||0!==n.fetchCount||Object(u["e"])(z)?tt(nt(),0!==n.fetchCount):N({loading:!1}))},[...T]),Object(v["useEffect"])((function(){var t;return Z&&P&&P>500&&(t=g.setInterval(()=>{var t=Date.now(),e=n.lastFetch,r=t-e>=P;r&&et()},P)),()=>{t&&clearInterval(t)}}),[P,Z]),Object(c["a"])({},H,{send:et,data:z,payload:G,param:E,setData:M,cancel:at,polling:Z,setPolling:$})}},"4H9c":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("tJVT"),a=n("q1tI"),c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(a["useState"])(0),n=Object(r["a"])(e,2),c=n[1],i=Object(a["useState"])(t),o=Object(r["a"])(i,2),u=o[0],s=o[1],l=Object(a["useCallback"])(t=>{s(Object.assign(u,t instanceof Function?t(u):t)),c(t=>t+1)},[s]);return[u,l]}},W3VL:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("q1tI");function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(r["useRef"])(t);return e.current}},bnTo:function(t,e,n){"use strict";n.r(e);var r=n("tJVT"),a=n("q1tI"),c=n.n(a),i=n("34YR");function o(t){return new Promise(e=>{setTimeout(()=>{e({code:0,data:t})},500)})}var u=()=>{var t=Object(a["useState"])(1),e=Object(r["a"])(t,2),n=e[0],u=e[1],s=Object(i["a"])(o,{param:{name:"lxj",id:n}}),l=s.data,d=s.loading,f=s.param;return c.a.createElement("div",null,c.a.createElement("h3",null,"ParamDemo ",d&&"loading..."),c.a.createElement("div",{style:{marginBottom:16}},c.a.createElement("button",{onClick:()=>u(t=>t+1)},"change id ",n)),c.a.createElement("div",null,c.a.createElement("strong",null,"current param:")," ",JSON.stringify(f)),c.a.createElement("div",null,c.a.createElement("strong",null,"data"),c.a.createElement("span",{style:{fontSize:14}},"(\u8fd4\u56de\u8bf7\u6c42\u65f6\u7684\u53c2\u6570):")," ",JSON.stringify(l)))};e["default"]=u},"d3U/":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("q1tI"),a=n("tLXD"),c=n("tq0P"),i=n.n(c);function o(t,e,n){var c=Object(a["a"])(e),o=Object(r["useRef"])(0),u=i()(e,c,n);u||o.current++,Object(r["useEffect"])(t,[o.current])}},xQ7e:function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var r=n("tJVT"),a=n("k1fw"),c=n("K3qG"),i=n("q1tI"),o=n("2dX0"),u="USE_STORAGE_CACHE",s={local:c["a"].localStorage,session:c["a"].sessionStorage};function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"session";if(void 0!==e){var r=s[n];r&&r.setItem("".concat(u,"_").concat(t.toUpperCase()),JSON.stringify(e))}}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"session",n=s[e];if(n){var r=n.getItem("".concat(u,"_").concat(t.toUpperCase()));return null===r?r:JSON.parse(r)}}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"session",n=s[e];n&&n.removeItem("".concat(u,"_").concat(t.toUpperCase()))}var v={type:"session",disabled:!1};function b(t,e,n){var c=Object(a["a"])({},v,{},n),u=Object(i["useState"])(()=>{if(!c.disabled){var n=d(t,c.type);if(null!==n)return n}if(e instanceof Function){var r=e();return!c.disabled&&l(t,r,c.type),r}return!c.disabled&&l(t,e,c.type),e}),s=Object(r["a"])(u,2),f=s[0],b=s[1],m=Object(o["a"])(e=>{e instanceof Function?b(n=>{var r=e(n);return!c.disabled&&l(t,r,c.type),r}):(!c.disabled&&l(t,e,c.type),b(e))});return[f,m]}var m=Object.assign(b,{get:d,set:l,remove:f})}}]);